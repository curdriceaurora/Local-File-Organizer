---
name: add-archive-and-scientific-format-support
title: Add archive and scientific format support
github_issue: 31
status: open
size: M
hours: 16
parallel: true
depends_on: []
created: 2026-01-21T05:39:22Z
updated: 2026-01-24T06:51:14Z
---

# Task 014: Add archive and scientific format support

## Description
Implement support for archive file formats (ZIP, RAR, 7Z) and scientific data formats. Enable listing archive contents without extraction and provide metadata extraction for scientific data files.

## Objectives
- Support ZIP, RAR, 7Z archive files
- List archive contents without extraction
- Extract archive metadata (compression ratio, file count)
- Add scientific data format support (HDF5, NetCDF, FITS)

## Technical Details

### Archive Format Support

#### ZIP Files
- Parse ZIP archive structure
- List all files and directories
- Extract metadata (compression method, sizes, dates)
- Calculate compression ratio
- Support password-protected archives (detection only)

#### RAR Files
- Parse RAR archive structure
- List archive contents
- Extract RAR-specific metadata
- Support multi-volume archives

#### 7Z Files
- Parse 7z archive structure
- List compressed files
- Extract compression information
- Support solid archives

### Archive Metadata
- Total file count and directory count
- Compressed vs uncompressed size
- Compression ratio percentage
- Archive creation date
- List of file types contained
- Encryption status

### Scientific Format Support

#### HDF5 (Hierarchical Data Format)
- Parse HDF5 file structure
- List datasets and groups
- Extract dataset dimensions and types
- Read dataset attributes and metadata

#### NetCDF (Network Common Data Form)
- Parse NetCDF file structure
- Extract variables and dimensions
- Read global attributes
- Support NetCDF-3 and NetCDF-4 formats

#### FITS (Flexible Image Transport System)
- Parse FITS headers
- Extract astronomical metadata
- List HDUs (Header Data Units)
- Read header keywords

## Files to Modify
- `file_organizer_v2/src/file_organizer/models/archive_processor.py` (new)
- `file_organizer_v2/src/file_organizer/models/scientific_processor.py` (new)
- `file_organizer_v2/src/file_organizer/services/file_processor.py`
- `file_organizer_v2/src/file_organizer/utils/metadata_extractor.py`

## Testing Requirements
- Test with various archive formats (ZIP, RAR, 7Z)
- Test with encrypted archives
- Test with multi-volume archives
- Test with nested archives
- Test with scientific data files from different sources
- Test performance with large archives
- Test memory usage (no extraction to memory)

## Dependencies
- zipfile (built-in) for ZIP support
- rarfile or unrar for RAR support
- py7zr for 7Z support
- h5py for HDF5 support
- netCDF4 or xarray for NetCDF support
- astropy for FITS support

## Success Criteria
- Successfully list archive contents without extraction
- Accurately extract archive metadata
- Calculate correct compression ratios
- Parse scientific data file structures
- Handle corrupted archives gracefully
- Provide meaningful metadata for scientific formats

## Notes
- Do NOT extract archive contents to disk - only list
- Be careful with memory usage for large archives
- RAR may require external tools (unrar) to be installed
- Scientific formats may require specialized libraries
- Consider optional dependencies for scientific formats
- Handle cases where archive is corrupted or encrypted
