---
name: Test Deduplication Core Services
status: open
created: 2026-01-24T04:17:39Z
updated: 2026-01-26T00:52:32Z
github: https://github.com/curdriceaurora/Local-File-Organizer/issues/204
depends_on: [001]
parallel: true
conflicts_with: []
---

# Task: Test Deduplication Core Services

## Description
Create comprehensive unit tests for deduplication core services: detector.py, hasher.py, and index.py.

## Acceptance Criteria
- [ ] Test DuplicateDetector orchestration logic
- [ ] Test FileHasher with multiple algorithms (MD5, SHA256, perceptual)
- [ ] Test DuplicateIndex duplicate group management
- [ ] Test ScanOptions and FileMetadata dataclasses
- [ ] Test directory scanning logic
- [ ] Test hash caching and performance
- [ ] Test edge cases (symlinks, hard links)
- [ ] Coverage >85% for detector.py, hasher.py, index.py

## Technical Details
**Files**:
- tests/services/deduplication/test_detector.py (335 LOC)
- tests/services/deduplication/test_hasher.py (178 LOC)
- tests/services/deduplication/test_index.py (212 LOC)

Key test areas:
- Hash algorithm accuracy
- Duplicate group management
- Performance benchmarks
- Memory efficiency

## Dependencies
- [ ] Task 001 complete (test infrastructure)

## Effort Estimate
- Size: L
- Hours: 14-16
- Parallel: true

## Definition of Done
- [ ] 3 test files created
- [ ] All tests passing
- [ ] Hash accuracy validated
- [ ] Coverage >85%
