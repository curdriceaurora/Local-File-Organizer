---
name: Migrate to Typer CLI framework
status: open
created: 2026-01-21T05:26:54Z
updated: 2026-01-21T05:35:26Z
github: https://github.com/curdriceaurora/Local-File-Organizer/issues/19
depends_on: [18, 22]
parallel: true
conflicts_with: []
---

# Task: Migrate to Typer CLI framework

## Description
Migrate the existing CLI interface to use the Typer framework, providing a more robust and user-friendly command-line experience. This includes creating proper subcommands, improving help text, adding input validation, and enhancing overall error handling.

## Acceptance Criteria
- [ ] Typer framework integrated and configured
- [ ] All existing CLI functionality migrated to Typer subcommands
- [ ] Subcommands created: organize, preview, undo, config
- [ ] Help text is clear and comprehensive for all commands
- [ ] Input validation implemented with meaningful error messages
- [ ] Command aliases and shortcuts working
- [ ] Backward compatibility maintained where possible
- [ ] All existing tests updated and passing

## Technical Details

### Implementation Approach
1. Install and configure Typer (v0.9+)
2. Create main Typer app instance
3. Define subcommands using Typer decorators:
   - `organize`: Main file organization command
   - `preview`: Show what changes would be made without applying
   - `undo`: Revert previous organization operations
   - `config`: Manage configuration settings
4. Add proper type hints and validation using Typer's Option/Argument
5. Implement rich help text with examples
6. Add common options (--verbose, --quiet, --dry-run)
7. Ensure error messages are actionable and user-friendly

### Key Considerations
- Maintain backward compatibility with existing scripts/workflows
- Use Typer's built-in validation features
- Implement consistent error handling across all commands
- Add progress indicators for long-running operations
- Support both interactive and non-interactive modes

### Files Affected
- `file_organizer_v2/demo.py` - Main CLI entry point
- `file_organizer_v2/src/file_organizer/cli/` - New CLI module structure
  - `__init__.py`
  - `main.py` - Main Typer app
  - `organize.py` - Organize command
  - `preview.py` - Preview command
  - `undo.py` - Undo command
  - `config.py` - Config command
- `file_organizer_v2/pyproject.toml` - Add Typer dependency
- `file_organizer_v2/tests/test_cli.py` - CLI tests

## Dependencies
- [ ] Task 001 and 002 completed (core functionality must be stable)
- [ ] Typer 0.9+ package installed
- [ ] Existing CLI functionality documented

## Effort Estimate
- Size: M
- Hours: 16
- Parallel: true (can run in parallel with non-CLI tasks)

## Definition of Done
- [ ] Code implemented and follows project style guide
- [ ] All subcommands working with proper validation
- [ ] Help text comprehensive and clear
- [ ] Tests written covering all CLI commands
- [ ] All tests passing (unit and integration)
- [ ] Documentation updated (README, CLI usage guide)
- [ ] Code reviewed and approved
- [ ] Manual testing completed on all supported platforms
