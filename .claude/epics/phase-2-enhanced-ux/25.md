---
name: Add CLI auto-completion and interactive prompts
status: open
created: 2026-01-21T05:26:54Z
updated: 2026-01-21T05:35:26Z
github: https://github.com/curdriceaurora/Local-File-Organizer/issues/25
depends_on: [19]
parallel: false
conflicts_with: []
---

# Task: Add CLI auto-completion and interactive prompts

## Description
Enhance the CLI user experience by implementing shell auto-completion for commands and options across multiple shells (bash, zsh, fish), and adding interactive prompts for common operations. This will make the tool more discoverable and easier to use for both new and experienced users.

## Acceptance Criteria
- [ ] Auto-completion working for bash shell
- [ ] Auto-completion working for zsh shell
- [ ] Auto-completion working for fish shell
- [ ] Installation scripts for completion files created
- [ ] Interactive prompts implemented for common operations
- [ ] User can opt-out of interactive prompts (--yes flag)
- [ ] Improved progress indicators and feedback
- [ ] Help text includes completion installation instructions
- [ ] All completion features documented

## Technical Details

### Implementation Approach

#### 1. Shell Auto-Completion
- Use Typer's built-in completion support
- Generate completion scripts for each shell:
  ```bash
  # Installation commands
  file-organizer --install-completion bash
  file-organizer --install-completion zsh
  file-organizer --install-completion fish
  ```
- Create auto-completion for:
  - Command names (organize, preview, undo, config)
  - Option flags (--verbose, --dry-run, --model, etc.)
  - File paths and directories
  - Configuration profiles
  - Available AI models

#### 2. Interactive Prompts
- Use Typer's prompt features for interactive input
- Implement prompts for:
  - Directory selection when not specified
  - Confirmation before destructive operations
  - Model selection when multiple options available
  - Configuration profile selection
  - Undo operation confirmation
- Add `--yes` flag to skip all prompts (for scripting)
- Add `--no-interactive` flag for CI/CD environments

#### 3. Progress Indicators
- Use Rich library for enhanced progress displays
- Implement:
  - Progress bars for file processing
  - Spinners for AI model operations
  - Status indicators for multi-step operations
  - Color-coded success/error messages
  - Summary tables for results

### Key Considerations
- Ensure completion scripts don't require sudo for installation
- Test completion on multiple shell versions
- Make interactive mode smart (don't prompt for obvious choices)
- Provide clear feedback when completion is not available
- Handle edge cases (no TTY, piped input, etc.)

### Files Affected
- `file_organizer_v2/src/file_organizer/cli/main.py` - Add completion support
- `file_organizer_v2/src/file_organizer/cli/interactive.py` - New interactive prompts module
- `file_organizer_v2/src/file_organizer/cli/progress.py` - New progress indicators module
- `file_organizer_v2/scripts/install-completion.sh` - Completion installation script
- `file_organizer_v2/README.md` - Document completion installation
- `file_organizer_v2/tests/test_interactive.py` - Interactive features tests

## Dependencies
- [ ] Task 010 completed (Typer CLI framework must be in place)
- [ ] Rich library for enhanced terminal output
- [ ] Typer completion support configured

## Effort Estimate
- Size: S
- Hours: 8
- Parallel: false (depends on Task 010 being completed first)

## Definition of Done
- [ ] Code implemented for all three shells
- [ ] Auto-completion working correctly in bash, zsh, and fish
- [ ] Interactive prompts implemented and tested
- [ ] Progress indicators showing appropriate feedback
- [ ] Non-interactive mode working (`--yes` and `--no-interactive` flags)
- [ ] Installation scripts tested on multiple platforms
- [ ] Tests written covering completion and interactive features
- [ ] All tests passing
- [ ] Documentation updated with completion setup instructions
- [ ] Code reviewed and approved
- [ ] Manual testing completed on macOS, Linux, and Windows (Git Bash/WSL)
